<?xml version="1.0" encoding="UTF-8"?>

<launch>

    <!-- Launch Rviz -->
    <arg name="rviz_config" default="two_robots_config.rviz"/>

    <node pkg="rviz2" exec="rviz2" name="rviz2_2_robots" output="screen" args="-d $(find-pkg-share localization_server)/rviz/$(var rviz_config)">
        <param name="use_sim_time" value="True"/>

    </node>

    <!-- Launch Map server -->
    <include file="$(find-pkg-share map_server)/launch/map_server.launch.py">
        <arg name="use_rviz" value="False"/>
    </include>


    <!-- Localize first robot -->
    <include file="$(find-pkg-share localization_server)/launch/spawn_localization.launch.py">
        <arg name="vikings_bot_name" value="vikings_bot_1"/>
        <arg name="x_spawn" value="0.0"/>
        <arg name="y_spawn" value="-1.5"/>
        <arg name="yaw_spawn" value="0.0"/>
    </include>

    <!-- Localize first robot -->
    <include file="$(find-pkg-share localization_server)/launch/spawn_localization.launch.py">
        <arg name="vikings_bot_name" value="vikings_bot_2"/>
        <arg name="x_spawn" value="0.0"/>
        <arg name="y_spawn" value="1.5"/>
        <arg name="yaw_spawn" value="0.0"/>
    </include>

</launch>